(("undefined"!==typeof self?self:this)["webpackChunkvcd_node_driver_0_5_1"]=("undefined"!==typeof self?self:this)["webpackChunkvcd_node_driver_0_5_1"]||[]).push([[245],{1212:function(e,t,o){"use strict";o.r(t);var i=o(429),a=o.n(i),n=o(1214),r=o.n(n),l=r()(a());l.push([e.id,".overlay[data-v-1d9696d1]{align-items:center;background-color:var(--overlay-bg);display:flex;justify-content:center;position:absolute;bottom:0;top:0;left:0;right:0;text-align:center;z-index:12}.overlay-main-mode[data-v-1d9696d1]{top:var(--header-height);z-index:51}.overlay-content-mode[data-v-1d9696d1]{left:calc(var(--nav-width));top:var(--header-height)}",""]),t["default"]=l},3583:function(e,t,o){"use strict";o.r(t);var i=o(429),a=o.n(i),n=o(1214),r=o.n(n),l=r()(a());l.push([e.id,".addon.with-tooltip[data-v-a3dbf204]{position:relative;right:30px}",""]),t["default"]=l},7533:function(e,t,o){"use strict";o.r(t);var i=o(429),a=o.n(i),n=o(1214),r=o.n(n),l=r()(a());l.push([e.id,'.checkbox-outer-container{display:inline-flex;flex-direction:column}.checkbox-outer-container-description{color:var(--input-label);font-size:14px;margin-left:19px;margin-top:5px;opacity:.8}.checkbox-container{position:relative;display:inline-flex;align-items:center;margin:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:var(--border-radius)}.checkbox-container .checkbox-label{color:var(--input-label);display:inline-flex;margin:0 10px 0 5px}.checkbox-container .checkbox-label.checkbox-primary{color:inherit;font-weight:600}.checkbox-container .checkbox-info{line-height:normal;margin-left:2px}.checkbox-container .checkbox-custom{height:14px;width:14px;background-color:var(--body-bg);border-radius:var(--border-radius);transition:all .3s ease-out;border:1px solid var(--border);flex-shrink:0}.checkbox-container input{opacity:0;position:absolute;z-index:-1}.checkbox-container input:checked~.checkbox-custom{background-color:var(--primary);transform:rotate(0deg) scale(1);opacity:1;border:1px solid var(--primary)}.checkbox-container .checkbox-custom:after{position:absolute;content:"";left:0;top:0;height:0;width:0;border-radius:var(--border-radius);border:solid;border-color:var(--input-text);border-width:0 3px 3px 0;transform:rotate(0deg) scale(0);opacity:1}.checkbox-container input:checked~.checkbox-custom:after{transform:rotate(45deg) scale(1);opacity:1;left:4px;width:4px;height:10px;border:solid;border-color:var(--checkbox-tick);border-width:0 2px 2px 0;background-color:transparent}.checkbox-container input:checked~.checkbox-custom.indeterminate:after{transform:scale(1);opacity:1;left:3px;top:2px;width:6px;height:5px;border:solid;border-color:var(--checkbox-tick);border-width:0 0 2px 0;background-color:transparent}.checkbox-container.disabled .checkbox-custom,.checkbox-container.disabled input:checked~.checkbox-custom{background-color:var(--checkbox-disabled-bg);border-color:var(--checkbox-disabled-bg)}.checkbox-container.disabled input:checked~.checkbox-custom:after{border-color:var(--checkbox-tick-disabled)}.checkbox-container.disabled{cursor:not-allowed}.checkbox-container .checkbox-view{display:flex;flex-direction:column}.checkbox-container .checkbox-view LABEL{color:var(--input-label)}',""]),t["default"]=l},9980:function(e,t,o){"use strict";o.d(t,{l:function(){return i.A}});var i=o(9151)},9822:function(e,t,o){"use strict";o.d(t,{A:function(){return d}});var i=o(9274);const a={key:0,class:"loading-indicator"},n={key:1};function r(e,t,o,r,l,s){const c=(0,i.resolveComponent)("t");return o.loading?((0,i.openBlock)(),(0,i.createElementBlock)("div",a,[l.showMessage?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(["overlay",{"overlay-content-mode":"content"===o.mode,"overlay-main-mode":"main"===o.mode}])},[(0,i.createVNode)(c,{k:"generic.loading",raw:!0})],2)):(0,i.createCommentVNode)("",!0)])):((0,i.openBlock)(),(0,i.createElementBlock)("div",n,[(0,i.renderSlot)(e.$slots,"default",{},void 0,!0)]))}var l={props:{loading:{type:Boolean,default:!0},mode:{type:String,default:"content"},noDelay:{type:Boolean,default:!1}},data(){return{timer:null,showMessage:this.noDelay}},mounted(){this.timer=setTimeout((()=>{this.showMessage=!0}),250)},beforeUnmount(){clearTimeout(this.timer)}},s=(o(6844),o(7433));const c=(0,s.A)(l,[["render",r],["__scopeId","data-v-1d9696d1"]]);var d=c},4134:function(e,t,o){"use strict";o.d(t,{A:function(){return m}});var i=o(9274);function a(e,t,o,a,n,r){const l=(0,i.resolveComponent)("LabeledInput");return(0,i.openBlock)(),(0,i.createBlock)(l,(0,i.mergeProps)({ref:"value",value:r.displayValue},e.$attrs,{type:"number",min:o.min,mode:o.mode,label:o.label,delay:o.delay,"label-key":o.labelKey,tooltip:o.tooltip,"tooltip-key":o.tooltipKey,required:o.required,placeholder:o.placeholder,"hide-arrows":o.hideArrows,onChange:t[0]||(t[0]=e=>r.update(e.target.value)),onBlur:t[1]||(t[1]=e=>r.update(e.target.value))}),{suffix:(0,i.withCtx)((()=>[r.displayUnit?((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:(0,i.normalizeClass)(["addon",{"with-tooltip":o.tooltip||o.tooltipKey}])},(0,i.toDisplayString)(r.displayUnit),3)):(0,i.createCommentVNode)("",!0)])),_:1},16,["value","min","mode","label","delay","label-key","tooltip","tooltip-key","required","placeholder","hide-arrows"])}const n=["","K","M","G","T","P","E","Z","Y"],r=["","m","u","n","p","f","a","z","y"];function l(e,{increment:t=1e3,addSuffix:o=!0,addSuffixSpace:i=!0,suffix:a="",firstSuffix:c=null,startingExponent:d=0,minExponent:u=0,maxExponent:p=99,maxPrecision:h=2,canRoundToZero:f=!0}={}){let m=e,b=d;const y=p>=0;if(y)while(m>=t&&b+1<n.length&&b<p||b<u)m/=t,b++;else while(m<t&&b+1<r.length&&b<-1*p||b<-1*u)m*=t,b++;let v="";if(v=m<10&&h>=1?""+Math.round(m*10**h)/10**h:`${Math.round(m)}`,"0"===v&&!f&&0!==e){const i=s(e,t);return l(e,{increment:t,addSuffix:o,suffix:a,firstSuffix:c,startingExponent:d,minExponent:i,maxExponent:i,maxPrecision:h,canRoundToZero:!0})}return o&&(i&&(v+=" "),v+=0===b&&null!==c?`${c}`:`${y?n[b]:r[b]}${a}`||""),v}function s(e,t=1e3){let o=0;while(e>=t)e/=t,o++;return o}function c(e,t){t=t||{};let o=t.increment;const i=!1!==t.allowFractional;if(!e||"string"!==typeof e||!e.length)return NaN;e=e.replace(/,/g,"");let[,a,l,s]=e.match(/^([0-9.-]+)\s*([^0-9.-]?)([^0-9.-]?)/);const c=parseFloat(a);if(!l)return c;181===l.charCodeAt(0)&&(l="u");const d=r.includes(l),u=n.includes(l.toUpperCase());if(o||(o=(u||d)&&"i"===s?1024:1e3),d&&i){const e=r.indexOf(l);return c/o**e}if(u){const e=n.indexOf(l.toUpperCase());return c*o**e}return c}var d=o(7229),u=o(4220),p={components:{LabeledInput:d.o},emits:["update:value"],props:{outputAs:{type:String,default:"number"},outputModifier:{type:Boolean,default:!1},inputExponent:{type:Number,default:0},baseUnit:{type:String,default:"B"},hideArrows:{type:Boolean,default:!1},increment:{type:Number,default:1e3},suffix:{type:String,default:null},mode:{type:String,default:u.G5},value:{type:[Number,String],default:null},label:{type:String,default:null},labelKey:{type:String,default:null},tooltip:{type:[String,Object],default:null},tooltipKey:{type:String,default:null},required:{type:Boolean,default:!1},min:{type:[Number,String],default:0},placeholder:{type:[String,Number],default:""},delay:{type:Number,default:0}},computed:{unit(){let e;return e=this.inputExponent>=0?n[this.inputExponent]:r[-1*this.inputExponent],1024===this.increment&&e&&(e+="i"),e},parsedValue(){return"string"===typeof this.value?c(this.value):this.value},displayValue(){let e="";return(this.parsedValue||0===this.parsedValue)&&(e=l(this.parsedValue,{increment:this.increment,addSuffix:!1,maxExponent:this.inputExponent,minExponent:this.inputExponent})),e},displayUnit(){return this.suffix?this.suffix:this.unit+this.baseUnit}},methods:{focus(){const e=this.$refs.value;e&&e.focus()},update(e){let t=""===e?null:e;this.outputModifier?t=null===t?null:`${e}${this.unit}`:"string"===this.outputAs?t=null===t?"":`${e}`:t&&(t=this.unit?c(`${t}${this.unit}`):parseInt(t)),this.$emit("update:value",t)}}},h=(o(9519),o(7433));const f=(0,h.A)(p,[["render",a],["__scopeId","data-v-a3dbf204"]]);var m=f},2635:function(e,t,o){"use strict";o.d(t,{A:function(){return k}});var i=o(9274);const a={class:"checkbox-outer-container","data-checkbox-ctrl":""},n=["for"],r=["checked","value","name"],l=["tabindex","aria-label","aria-checked"],s={key:2,class:"checkbox-info icon icon-info icon-lg"},c={key:3,class:"checkbox-info icon icon-info icon-lg"},d={key:0,class:"checkbox-outer-container-description"};function u(e,t,o,u,p,h){const f=(0,i.resolveComponent)("t"),m=(0,i.resolveDirective)("clean-tooltip");return(0,i.openBlock)(),(0,i.createElementBlock)("div",a,[(0,i.createElementVNode)("label",{class:(0,i.normalizeClass)(["checkbox-container",{disabled:e.isDisabled}]),for:e.id,onKeydown:[t[1]||(t[1]=(0,i.withKeys)((0,i.withModifiers)((t=>e.clicked(t)),["prevent"]),["enter"])),t[2]||(t[2]=(0,i.withKeys)((0,i.withModifiers)((t=>e.clicked(t)),["prevent"]),["space"]))],onClick:t[3]||(t[3]=t=>e.clicked(t))},[(0,i.createElementVNode)("input",{checked:e.isChecked,value:e.valueWhenTrue,type:"checkbox",tabindex:-1,name:e.id,onClick:t[0]||(t[0]=(0,i.withModifiers)((()=>{}),["stop","prevent"]))},null,8,r),(0,i.createElementVNode)("span",{class:(0,i.normalizeClass)(["checkbox-custom",{indeterminate:e.indeterminate}]),tabindex:e.isDisabled?-1:0,"aria-label":e.label,"aria-checked":!!e.value,role:"checkbox"},null,10,l),e.$slots.label||e.label||e.labelKey||e.tooltipKey||e.tooltip?((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:0,class:(0,i.normalizeClass)(["checkbox-label",{"checkbox-primary":e.primary}])},[(0,i.renderSlot)(e.$slots,"label",{},(()=>[e.labelKey?((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,k:e.labelKey,raw:!0},null,8,["k"])):e.label?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createTextVNode)((0,i.toDisplayString)(e.label),1)],64)):(0,i.createCommentVNode)("",!0),e.tooltipKey?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("i",s,null,512)),[[m,e.t(e.tooltipKey)]]):e.tooltip?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("i",c,null,512)),[[m,e.tooltip]]):(0,i.createCommentVNode)("",!0)]))],2)):(0,i.createCommentVNode)("",!0)],42,n),e.descriptionKey||e.description?((0,i.openBlock)(),(0,i.createElementBlock)("div",d,[e.descriptionKey?((0,i.openBlock)(),(0,i.createBlock)(f,{key:0,k:e.descriptionKey},null,8,["k"])):e.description?((0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,{key:1},[(0,i.createTextVNode)((0,i.toDisplayString)(e.description),1)],64)):(0,i.createCommentVNode)("",!0)])):(0,i.createCommentVNode)("",!0)])}var p=o(4220),h=o(8851),f=o(6108),m=o.n(f),b=(0,i.defineComponent)({name:"Checkbox",props:{value:{type:[Boolean,Array,String],default:!1},label:{type:String,default:null},labelKey:{type:String,default:null},id:{type:String,default:String(1e3*Math.random())},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},mode:{type:String,default:p.G5},tooltip:{type:[String,Object],default:null},tooltipKey:{type:String,default:null},valueWhenTrue:{type:[Boolean,String,Number],default:!0},descriptionKey:{type:String,default:null},description:{type:String,default:null},primary:{type:Boolean,default:!1}},computed:{isDisabled(){return this.disabled||this.mode===p.nW},isChecked(){return this.isMulti(this.value)?this.findTrueValues(this.value):this.value===this.valueWhenTrue}},methods:{clicked(e){if("A"===e.target.tagName&&e.target.href)return!0;if(e.stopPropagation(),e.preventDefault(),this.isDisabled)return;const t={bubbles:!0,cancelable:!1,shiftKey:e.shiftKey,altKey:e.altKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey},o=new CustomEvent("click",t),i=m()(this.value);this.isMulti(i)?(this.isChecked?(0,h.Gj)(i,this.valueWhenTrue):(0,h.PG)(i,this.valueWhenTrue),this.$emit("update:value",i)):this.isString(this.valueWhenTrue)?this.isChecked?this.$emit("update:value",null):this.$emit("update:value",this.valueWhenTrue):(this.$emit("update:value",!i),this.$el.dispatchEvent(o))},isMulti(e){return Array.isArray(e)},isString(e){return"string"===typeof e},findTrueValues(e){return e.find((e=>e===this.valueWhenTrue))||!1}}}),y=(o(9293),o(7433));const v=(0,y.A)(b,[["render",u]]);var k=v},6414:function(e,t,o){"use strict";o.d(t,{A:function(){return x}});var i=o(4220),a=o(9274),n=o(8632),r=o(9726),l=o(8851),s=o(4302),c=o(4364);let d=1;const u="_beforeSaveHooks",p="_afterSaveHooks";var h={methods:{registerBeforeHook(e,t,o=99,i){this._registerHook(u,e,t,o,i)},unregisterBeforeSaveHook(e){this[u]=this[u].filter((t=>t.name!==e))},registerAfterHook(e,t,o=99,i){this._registerHook(p,e,t,o,i)},async applyHooks(e,...t){if(!e)throw new Error("Must specify key");const o=(0,s.Ul)(this[e]||[],["priority","name"]),i={};for(const a of o)c.debug("Applying hook",a.name),i[a.name]=await a.fn.apply(a.fnContext||this,t);return i},_registerHook(e,t,o,i,a){if(!e)throw new Error("Must specify key");o||(o=`hook_${d}`,d++),i||(i=99);let n=this[e];n||(n=[],this[e]=n);let r=(0,l.jq)(n,"name",o);r?(r.priority=i,r.fn=t,r.fnContext=a):(r={name:o,priority:i,fn:t,fnContext:a},n.push(r))}}},f=o(5664),m=o(6978),b=o(4364);f.yx;async function y(e,t,o,i,a,n){const r=await a.dispatch(`${n}/cleanForDiff`,e,{root:!0}),l=await a.dispatch(`${n}/cleanForDiff`,t.toJSON(),{root:!0}),s=await a.dispatch(`${n}/cleanForDiff`,o.toJSON(),{root:!0}),c=(0,m.no)(r,s),d=(0,m.no)(r,l),u=(0,m.MA)(c,d);if(b.log("Background Change",c),b.log("User Change",d),b.log("Conflicts",u),t.metadata.resourceVersion=o.metadata.resourceVersion,(0,m.TJ)(t,c),u.length){const e=[i["i18n/t"]("validation.conflict",{fields:u.join(", "),fieldCount:u.length})];return e}return!1}var v=o(4364),k={name:"CreateEditView",mixins:[h],emits:["done"],data(){return{errors:[]}},computed:{isCreate(){return this.mode===i.YQ},isEdit(){return this.mode===i.G5},isView(){return this.mode===i.nW},schema(){const e=this.storeOverride||this.$store.getters["currentStore"](this.value.type);return this.$store.getters[`${e}/schemaFor`](this.value.type)},isNamespaced(){return this.schema?.attributes?.namespaced||!1},labels:{get(){return this.value?.labels},set(e){this.value.setLabels(e)}},annotations:{get(){return this.value?.annotations},set(e){this.value.setAnnotations(e)}},doneRoute(){if(this.value?.doneRoute)return this.value.doneRoute;let e=this.$route.name;return e?.endsWith("-id")?e=e.replace(/(-namespace)?-id$/,""):e?.endsWith("-create")&&(e=e.replace(/-create$/,"")),e},doneParams(){if(this.value?.doneParams)return this.value.doneParams;const e={...this.$route.params};return delete e.namespace,delete e.id,e}},methods:{done(){if(!this.doneEvent)return this.doneLocationOverride?this.$router.replace(this.doneLocationOverride):void(this.doneRoute&&this.$router.replace({name:this.doneRoute,params:this.doneParams||{resource:this.value.type}}));this.$emit("done")},async conflict(){return await y(this.initialValue.toJSON(),this.value,this.liveValue,this.$store.getters,this.$store,this.storeOverride||this.$store.getters["currentStore"](this.value.type))},async save(e,t,o=0){this.errors&&(0,l.IU)(this.errors);try{if(await this.applyHooks(u,this.value),this.value?.metadata?.labels&&0===Object.keys(this.value.metadata.labels||{}).length&&delete this.value.metadata.labels,this.value?.metadata?.annotations&&0===Object.keys(this.value.metadata.annotations||{}).length&&delete this.value.metadata.annotations,this.isCreate){const e=this.value?.metadata?.namespace;e&&e!==f.eo&&this.value.$dispatch("prefs/set",{key:n.Ri,value:e},{root:!0})}await this.actuallySave(t),this.$store.getters["type-map/isSpoofed"](this.value.type)&&await this.$store.dispatch("cluster/findAll",{type:this.value.type,opt:{force:!0}},{root:!0}),await this.applyHooks(p,this.value),e&&e(!0),this.done()}catch(i){if(409===i.status&&0===o&&this.isEdit){const i=await this.conflict();if(!1===i)return this.save(e,t,o+1);this.errors=i}else this.errors=(0,r.rz)(i);v.error("CreateEditView mixin failed to save: ",i),e&&e(!1)}},async actuallySave(e){if(this.isCreate){e=e||this.schema.linkFor("collection");const t=await this.value.save({url:e});t&&Object.assign(this.value,t)}else await this.value.save()},setErrors(e){this.errors=e}}},x=(0,a.defineComponent)({...k,props:{mode:{type:String,default:i.G5},realMode:{type:String,default:i.G5},as:{type:String,default:i.zD},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}})},6844:function(e,t,o){var i=o(1212);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var a=o(4825).A;a("d02bc2bc",i,!0,{sourceMap:!1,shadowMode:!1})},9519:function(e,t,o){var i=o(3583);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var a=o(4825).A;a("a67107d4",i,!0,{sourceMap:!1,shadowMode:!1})},9293:function(e,t,o){var i=o(7533);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var a=o(4825).A;a("353e166c",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=vcd-node-driver-0.5.1.umd.min.245.js.map